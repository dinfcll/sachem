@using sachem.Methodes_Communes
@using sachem.Models
@model IEnumerable<Inscription>

    <div>
        <h4 class="page-header">@Messages.DossierEtudiantDemandeInscription</h4>
        <table class="table">
            <tr>
                <th class="col-md-2">
                    @Html.DisplayNameFor(model => model.DateInscription)
                </th>
                <th class="col-md-2">
                    @Html.DisplayNameFor(model => model.p_TypeInscription.TypeInscription)
                </th>
                <th class="col-md-7">
                    @Html.DisplayNameFor(model => model.p_StatutInscription.Statut)
                </th>
                <th class="col-md-1">
                </th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.DateInscription)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.p_TypeInscription.TypeInscription)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.p_StatutInscription.Statut)
                    </td>
                    <td class="text-center">
                        <a href="@Url.Action(null, null,new {id = item.id_Pers})"><i class="material-icons">visibility</i></a>

                        @if (SachemIdentite.ObtenirTypeUsager(Session) == TypeUsager.Etudiant)
                        {
                            <a href="@Url.Action(null, null,new {id = item.id_Pers})"><i class="material-icons">edit</i></a>
                        }
                        @if (SachemIdentite.ObtenirTypeUsager(Session) == TypeUsager.Etudiant && SachemIdentite.ObtenirTypeInscription(Session) == TypeInscription.EleveAide)
                        {
                            <a href="@Url.Action(null, null,new {id = item.id_Pers})"><i class="material-icons" style="margin-right: 0;font-size: 18px;">assignment_ind</i></a>
                        }
                    </td>
                </tr>
            }
            @if (!Model.Any())
            {
                <tr>
                    <td colspan="6">@Messages.AucunDemandeInscriptionSansRecherche</td>
                </tr>
            }
        </table>
    </div>
