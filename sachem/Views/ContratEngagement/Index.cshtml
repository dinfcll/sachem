@using sachem.Models
@model Inscription

@{
    ViewBag.Title = "Contrat d'engagement";
    var typeUsager = SachemIdentite.ObtenirTypeUsager(Session);
}

<h2>@ViewBag.Title</h2>
@Html.ValidationSummary(true, "", new { @class = "text-danger" })


<h3>@Messages.ContratJeMengageA</h3><br />
<div class="form-group">
    <ul>
        <li>@Messages.ContratClose1</li>
        <li>@Messages.ContratClose2</li>
        <li>@Messages.ContratClose3</li>
        <li>@Messages.ContratClose4</li>
        <li>@Messages.ContratClose5</li>
        <li>@Messages.ContratClose6</li>
    </ul>
</div>

@if (!Model.ContratEngagement.Value)
{
    using (Html.BeginForm("Index", "ContratEngagement", FormMethod.Post, new { @class = "form-inline", role = "form" }))
    {
        @Html.HiddenFor(m => m.id_Inscription)
        @Html.CheckBox("confirmationSignatureContrat", new { htmlAttributes = new { @class = "form-control", required = Messages.ChampRequis } })
        if (typeUsager != TypeUsagers.Etudiant && typeUsager != TypeUsagers.Eleve)
        {
            if (typeUsager == TypeUsagers.Tuteur)
            {
                <span>@Messages.ContratClose8</span>
            }
        }
        else
        {
            <span>@Messages.ContratClose7</span>
        }

        <h3 style="background-color: aliceblue; text-align: center; height: 32px">Confirmation</h3>
        <table class="table-condensed">
        <tr>
            <td>Mot de passe </td>
            <td>@Html.Editor("motDePasse", new {htmlAttributes = new {@class = "form-control", type = "password", required = Messages.ChampRequis } })
            <td><input type="submit" value="Enregistrer" class="btn btn-default"/></td>
            <td><input type="button" value="Annuler" onclick="location.href = '@Url.Action("LogOff", "Account")'" class="btn btn-default"/></td>
        </tr>
    </table>
    }
}
else
{
    <b>@Messages.ContratConfirmation</b>
}
